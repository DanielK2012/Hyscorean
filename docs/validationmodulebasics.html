<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <link rel="icon" href="img/logo64.png">
   <link rel="stylesheet" type="text/css" href="style.css">
   <link rel="stylesheet" href="highlight/matlab.css">
   <script src="highlight/highlight.pack.js"></script>
   <script>hljs.initHighlightingOnLoad();</script>
   <title>Validation Basics</title>
</head>

<body>

<header>
<ul>
<li><img src="img/logo64.png", width="80%">
<li class="header-title">Hyscorean
</ul>
<p>
<br>
<ul>
<li><a href="index.html">Documentation</a>
<li><a href="references.html">Publications</a>
<li><a href="https://github.com/luisfabib/Hyscorean" target="_blank">Repository</a>
<li><a href="https://github.com/luisfabib/Hyscorean/issues" target="_blank">Report Issues</a>
</ul>
<br>
<br>
<ul> 
</ul>
</p>
</header>

<section>

<hr>
<div class="functitle">Validation Module Basics</div>
<hr>

<p>
As mentioned in the previous section the goal of the validation module is to generate an ensemble of parameter sets and for each of them, generate a HYSCORE spectrum by going through the adequate processing protocols as in Hyscoreanâ€™s usual processing.
</p>

<center>
<img src= "img/validation2.png",  width="90%", class="center">
</center>

<p>
By default, all validation parameters are deactivated, they can be activated by pressing the corresponding check boxes: 
</p>

<center>
<img src= "img/validation3.png",  width="70%", class="center">
</center>

<p>
The program then constructs the parameter sets as follows. For any <code>activated</code> parameter, a vector of different parameter values is generated. This is a linearly spaced vector with minimal value given by the <code>Min</code> edit box, maximal value given by the <code>Max</code> edit box and number of elements corresponding to the edit box <code>Trials</code>. The vector is constructed in MATLAB as follows:
</p>

<pre class="matlab">
ValuesToValidate = linspace(Min,Max,Trials);
</pre>

<p>
For all <code>deactivated</code> parameters, the vector contains a single default value. These values are automatically set to match the values employed in the Hyscorean processing at the time the <code>Validation</code> button was pressed. 
</p>

<p>
Once all vectors are constructed, a parameter set is constructed for each possible combination of the vector elements of all parameters. The total number of parameter sets is automatically updated each time a change is done and displayed under the <code>Total Trials</code> field.
</p>

<center>
<img src= "img/validation4.png",  width="70%", class="center">
</center>

<p>
Once the desired validation settings have been set, the validation can be started via the <code>Validation</code> button. This will generate the parameter sets and start processing the corresponding HYSCORE spectra. Since the program automatically generates all possible combinations of parameters, the number of total trials can adopt very large numbers easily. This is usually not an issue since the processing of HYSCORE spectra is quick. However, for NUS reconstruction the computation times can be moderately larger and therefore lead to large validation times. For this reason, the program gives an estimate of the remining time for completion of the validation as well a percentage of completed parameter sets.
</p>

<center>
<img src= "img/validation5.png",  width="30%", class="center">
</center>

<p>
Once finished the validation results are presented in the main display. The mean HYSCORE spectrum is displayed as a grey contour plot superimposed by a red colormap. This red colormap represents the value selected in the box next to the display and can either be the <code>Uncertainty</code>, <code>Lower Bound</code>, or <code>Upper Bound</code> of the validation. In the insets the corresponding skyline projection along each dimension are displayed.
</p>

<center>
<img src= "img/validation6.png",  width="90%", class="center">
</center>

<p>
The uncertainty is defined as the standard deviation of all HYSCORE spectra, whereas the lower and upper bounds of the 95%-confidence interval computed according to the two-sigma rule of the <a href="https://en.wikipedia.org/wiki/68%E2%80%9395%E2%80%9399.7_rule">68-95-99.7 rule</a>. 
</p>

<p>
The <code>Zoom</code> icon buttons can again be used to zoom-in and out of the display and its insets and the detach button can be used to copy the current display to a separate figure where it can be saved or copied.
</p>

<p>
This display mode shows the validation results and can be used directly to assess the uncertainty in the spectrum. However, the user can also access the individual HYSCORE spectra computed during the validation as well as the corresponding parameter sets. The display mode can be changed via the <code>Mean and deviation</code> and <code>Parameter Sets</code> buttons in the <code>Display</code> panel.
</p>

<center>
<img src= "img/validation7.png",  width="90%", class="center">
</center>

<p>
The user can then browse through the different parameter sets and spectra via the <code>Set Selection</code> buttons. The current parameter set values are always displayed in the <code>Parameter Set #</code> panel. Additionally, the RMSD and entropy values of the reconstruction methods are shown in case NUS reconstruction is part of the validation.
</p>

<center>
<img src= "img/validation8.png",  width="90%", class="center">
</center>

<p>
At any point after the validation, parameter sets can be deleted via the X button from the <code>Set Selection</code> buttons. After deleting the parameter set, the mean HYSCORE spectrum as well as the uncertainty are updated automatically. Any deleted set cannot be recovered once deleted unless the validation is started from the beginning. 
</p>

<!-- =========================================================== -->
<hr>
<a href="validationmoduleintro.html" class="previous", align="left">&laquo; Previous</a>
&emsp;
<a href="validationbackground.html" class="next", style="text-align:right">Next &raquo;</a>
<hr>
</section>


<footer>
Hyscorean Documentation - Luis Fábregas Ibáñez  2019 - ETH Zurich - Released under the GNU Lesser General Public License (LGPL 3.0).
</footer>

</body>
</html>
