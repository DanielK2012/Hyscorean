<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <link rel="icon" href="img/logo64.png">
   <link rel="stylesheet" type="text/css" href="style.css">
   <link rel="stylesheet" href="highlight/matlab.css">
   <script src="highlight/highlight.pack.js"></script>
   <script>hljs.initHighlightingOnLoad();</script>
   <title>Save session</title>
</head>

<body>

<header>
<ul>
<li><img src="img/logo64.png", width="80%">
<li class="header-title">Hyscorean
</ul>
<p>
<br>
<ul>
<li><a href="index.html">Documentation</a>
<li><a href="references.html">Publications</a>
<li><a href="https://bitbucket.org/luisfabib/hyscorean/src/master/" target="_blank">Repository</a>
<li><a href="https://bitbucket.org/luisfabib/hyscorean/issues?status=new&status=open" target="_blank">Forum</a>
</ul>
<br>
<br>
<ul> 
</ul>
</p>
</header>

<section>

<hr>
<div class="functitle">Saving Hyscorean’s session</div>
<hr>
<p>
As mentioned in the introduction of this section Hyscorean offers a saving system which allows the user to maintain an automated book-keeping of all saved results. The user only must press the <code>Save & Report</code> button to prompt the automatic saving system. However, the saving path and name can be defined first by the user. 
</p> 

<div class="subtitle"> Setting up the Save environment</div>

<p>
Prior to saving Hyscorean’s session the user can change the save setting by pressing the (…) button on next to the <code>Save & Report</code> one, which will prompt a new window to appear:
</p>

<center>
<img src= "img/savesession1.png",  width="90%", class="center">
</center>

<p>
This new window has two fields: <code>Save Path</code> and <code>Identifier</code>. The file management system works as follows:
</p>
<ul>
<li> All saved files will be saved on the folder given by <code>Save Path</code> within a subfolder with the following automated name which includes the date of generation and identifier:
<pre class="matlab">
'20181224_Hyscorean_save'</pre>

<li> The saved files will have a name constructed from the date, identifier and file type:
<pre class="matlab">
'20181224_Hyscorean_save_OutputData'    
'20181224_Hyscorean_save_spectrum'
'20181224_Hyscorean_save_DataForDitting'

</pre>	

<li> Files saved with the same identifier will be have the same name with an appended number to indicate the order of creation:
<pre class="matlab">
'20181224_Hyscorean_save_spectrum'		'20181224_Hyscorean_save_spectrum_2'
'20181224_Hyscorean_save_OutputData'		'20181224_Hyscorean_save_OutputData_2'
'20181224_Hyscorean_save_DataForDitting'	'20181224_Hyscorean_save_DataForDitting_2'
</ul>

<p>
Hence, for every different date and identifier a different subfolder will be generated in the folder given by <code>Save Path</code>. 
</p>

The user can enter the save path manually or select it via a OS window by pressing the <code>Select Folder</code> icon button. The <code>Save Path</code> field is stored between Hyscorean sessions and does not need to be specified again unless the user wants to change it. The <code>Identifier</code> field, however, is reset at each session to its default <code>Hyscorean_save</code>. The user-defined settings can then be stored by means of the Set button. If the save path was added the program will recognize it and ask the user for permission to overwrite the old path. 

<center>
<img src= "img/savesession2.png",  width="60%", class="center">
</center>

<p>
Answering <code>Yes</code> then closes the </code>Save & Report Settings</code> and return to Hyscorean’s main window.
</p>

<div class="subtitle"> Save & Report </div>

<p>
The <code>Save & Report</code> button will generate a set of files consisting the following: 
</p>

<p>
Filename:  <code>Date_Identifier_</code>...
</p>
<ul>
<li> ...<code>settings.mat</code>
<p> 
A MATLAB data file containing Hyscorean settings as the ones generated via the <code>Save Settings</code> button, which can also be loaded back via the <code>Load Settings</code> button. 
</p>
<li> ...<code>spectrum.fig</code> and ...<code>spectrum.pdf</code>
<p> 
A MATLAB figure and PDF files containing an exact copy of the spectrum as in the Hyscorean main display.
</p>
<li> ...<code>OutputData.mat</code>
<p> 
A MATLAB data file containing a structure with the following fields:
</p>
<pre class="matlab">
.RawSignal 		% Signal mounted from raw experimental data
.ProcessedSignal	% Processed signal used for spectrum
.FrequencyAxis1	% X-axis of spectrum
.FrequencyAxis2	% Y-axis of spectrum
.Spectrum		% Spectrum (real, imag or abs depending of choice) 
.TimeAxis1		% X-axis of time-domain signal
.TimeAxis2		% Y-axis of time-domain signal</pre>

<li> ...<code>DataForFitting.mat</code>
<p> 
A MATLAB data file containing a set of data necessary by the EasySpin Fitting module as input (see <a href="startingmodule.html">here</a>). 
 </p>

<li> ...<code>Report.pdf</code>
<p>
A PDF obtained via the report generator (requires the Report Generator MATLAB license). This creates a report containing all details (experimental conditions, processing parameters, NUS reconstruction details,…) about the signal and spectrum. This enables the user to have a detailed description of the processing in a compact and automated way enabling book-keeping of the measurements, signals and spectra in a comfortable way. 
</p>

</ul>

<hr>
<p>
NOTE: <br>
Any NaN in the report indicates that the corresponding parameter is not available from the loaded experimental file or does not apply to that kind of spectrometer at all.
</p>
<hr>

<p>
The progress of the saving is reported via the status bar with an indication of the percentage of files saved.
</p>

<center>
<img src= "img/savesession3.png",  width="25%", class="center">
</center>

<!-- =========================================================== -->
<hr>
<a href="saveloadsettings.html" class="previous", align="left">&laquo; Previous</a>
&emsp;
<a href="validationmoduleintro.html" class="next", style="text-align:right">Next &raquo;</a>
<hr>
</section>


<footer>
Hyscorean Documentation - Luis Fábregas Ibáñez  2019 - ETH Zurich - Released under the GNU Lesser General Public License (LGPL 3.0).
</footer>

</body>
</html>
